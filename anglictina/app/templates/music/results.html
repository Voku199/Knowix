{% extends "base.html" %}
{% block content %}
<main class="song-selection">
    <h1>Vyber si písničku:</h1>
    <div class="song-grid">
        {% for song in songs %}
        <div class="song-card">
            <a href="{{ url_for('exercises.exercise', song_id=loop.index0) }}" class="song-link">
                <h3>{{ song.title }}</h3>
                <p>{{ song.artist }}</p>
            </a>
        </div>
        {% endfor %}
    </div>
</main>


<script>
    // theme-toggle.js
    document.getElementById('theme-toggle').addEventListener('click', () => {
        fetch('/set_theme', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                theme: document.body.classList.contains('dark-mode') ? 'light' : 'dark'
            })
        }).then(() => {
            document.body.classList.toggle('dark-mode');
            session.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
        });
    });


</script>
{% endblock %}
