<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>M≈Øj n√°zor | Maycomb - Pixel PowerPoint</title>
    <link rel="stylesheet" href="../../static/prezentace/style.css"/>
</head>
<body>
<button class="back-btn" aria-label="Vr√°tit se zpƒõt"
        onclick="if(history.length>1){history.back()}else{window.location.href='prezentacer_main.html'}">‚Üê Zpƒõt
</button>

<!-- Pixel PowerPoint Container -->
<div class="powerpoint-container" id="powerpointContainer">
    <!-- Slide Navigation -->
    <div class="slide-nav">
        <button class="nav-btn prev-btn" id="prevBtn" aria-label="P≈ôedchoz√≠ slide">‚Äπ</button>
        <div class="slide-counter">
            <span class="current-slide" id="currentSlide">1</span>
            <span class="slide-separator">/</span>
            <span class="total-slides" id="totalSlides">8</span>
        </div>
        <button class="nav-btn next-btn" id="nextBtn" aria-label="Dal≈°√≠ slide">‚Ä∫</button>
    </div>

    <!-- Slides Container -->
    <div class="slides-wrapper" id="slidesWrapper">

        <!-- Slide 1: √övodn√≠ slide -->
        <div class="slide active" data-slide="1">
            <div class="slide-content title-slide">
                <div class="pixel-icon">
                    <div class="icon-bird">
                        <div class="bird-body"></div>
                        <div class="bird-wing"></div>
                        <div class="bird-eye"></div>
                    </div>
                </div>
                <h1 class="slide-title">M≈Øj N√°zor</h1>
                <h2 class="slide-subtitle">Jak zab√≠t pt√°ƒçka</h2>
                <div class="slide-meta">Osobn√≠ hodnocen√≠ a reflexe</div>
            </div>
        </div>

        <!-- Slide 2: Co se mi l√≠bilo -->
        <div class="slide" data-slide="2">
            <div class="slide-content">
                <h1 class="slide-title">CO SE MI L√çBILO</h1>
                <div class="bullet-points">
                    <div class="bullet-point" data-reveal="1">
                        <span class="bullet">¬ª</span>
                        <span class="text">Vypr√°vƒõn√≠ z dƒõtsk√©ho pohledu.</span>
                    </div>
                    <div class="bullet-point" data-reveal="2">
                        <span class="bullet">¬ª</span>
                        <span class="text">Realita ve 20 stolet√≠.</span>
                    </div>
                    <div class="bullet-point" data-reveal="3">
                        <span class="bullet">¬ª</span>
                        <span class="text">Propojen√≠ symbol≈Ø (pt√°ƒçek) s hlavn√≠mi t√©maty</span>
                    </div>
                    <div class="bullet-point" data-reveal="4">
                        <span class="bullet">¬ª</span>
                        <span class="text">Pohled dƒõt√≠ na svƒõt dospƒõl√Ωch</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Co bylo n√°roƒçn√© -->
        <div class="slide" data-slide="3">
            <div class="slide-content">
                <h1 class="slide-title">CO BYLO N√ÅROƒåN√â</h1>
                <div class="bullet-points">
                    <div class="bullet-point" data-reveal="1">
                        <span class="bullet">√ó</span>
                        <span class="text">Tƒõ≈æk√° t√©mata p≈ôedsudk≈Ø a nespravedlnosti v≈Øƒçi postav√°m.</span>
                    </div>
                    <div class="bullet-point" data-reveal="2">
                        <span class="bullet">√ó</span>
                        <span class="text">Nebreƒçet u toho.</span>
                    </div>
                    <div class="bullet-point" data-reveal="3">
                        <span class="bullet">√ó</span>
                        <span class="text">Slo≈æit√© vztahy mezi postavami</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Hlavn√≠ poselstv√≠ -->
        <div class="slide" data-slide="4">
            <div class="slide-content">
                <h1 class="slide-title">HLAVN√ç POSELSTV√ç</h1>
                <div class="quote-box">
                    <div class="quote-text">
                        "Odvaha nen√≠ mu≈æ se zbran√≠ v ruce.<br>
                        Odvaha je, kdy≈æ v√≠≈°, ≈æe u≈æ p≈ôedem prohr√°v√°≈°,<br>
                        ale p≈ôesto zaƒçne≈° a jde≈° a≈æ do konce."
                    </div>
                    <div class="quote-author">‚Äî Harper Leeov√°</div>
                </div>
                <div class="message-box">
                    <p>Kniha uƒç√≠ podle mƒõ empati, toleranci a odvahu postavit se za nespravedlnosti.</p>
                    <p>(Empatie znamen√° se "vc√≠tit" do nƒõkoho druh√©ho ohlednƒõ emoc√≠ch)</p>
                </div>
            </div>
        </div>

        <!-- Slide 5: Proƒç doporuƒçit -->
        <div class="slide" data-slide="5">
            <div class="slide-content">
                <h1 class="slide-title">PROƒå DOPORUƒåIT?</h1>
                <div class="recommendation-grid">
                    <div class="rec-item" data-reveal="1">
                        <div class="rec-icon">üìö</div>
                        <div class="rec-text">Historie 20. stolet√≠</div>
                    </div>
                    <div class="rec-item" data-reveal="2">
                        <div class="rec-icon">üí≠</div>
                        <div class="rec-text">Zamy≈°len√≠ nad mor√°lkou</div>
                    </div>
                    <div class="rec-item" data-reveal="3">
                        <div class="rec-icon">üë•</div>
                        <div class="rec-text">Rozvoj empatie</div>
                    </div>
                    <div class="rec-item" data-reveal="4">
                        <div class="rec-icon">üéØ</div>
                        <div class="rec-text">≈Ωivotn√≠ lekce</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Hodnocen√≠ -->
        <div class="slide" data-slide="6">
            <div class="slide-content">
                <h1 class="slide-title">M√â HODNOCEN√ç</h1>
                <div class="rating-section">
                    <div class="rating-category">
                        <span class="category-name">P≈ò√çBƒöH</span>
                        <div class="pixel-stars">
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-category">
                        <span class="category-name">POSTAVY</span>
                        <div class="pixel-stars">
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-category">
                        <span class="category-name">N√ÅROƒåNOST</span>
                        <div class="pixel-stars">
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star filled">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                        </div>
                    </div>
                    <div class="overall-rating">
                        <div class="overall-text">CELKOV√â HODNOCEN√ç</div>
                        <div class="overall-score">9/10</div>
                    </div>
                    <button class="back-to-map-btn" id="backToMapBtn">ZPƒöT NA MAPU</button>
                </div>
            </div>
        </div>

        <!--        &lt;!&ndash; Slide 7: Kv√≠z √∫vod &ndash;&gt;-->
        <!--        <div class="slide" data-slide="7">-->
        <!--            <div class="slide-content quiz-intro">-->
        <!--                <h1 class="slide-title">SHRNUT√ç - KV√çZ</h1>-->
        <!--                <div class="quiz-intro-text">-->
        <!--                    <p>Otestuj si, co sis zapamatoval z prezentace!</p>-->
        <!--                    <div class="quiz-stats">-->
        <!--                        <div class="stat-item">-->
        <!--                            <span class="stat-number">5</span>-->
        <!--                            <span class="stat-label">OT√ÅZEK</span>-->
        <!--                        </div>-->
        <!--                        <div class="stat-item">-->
        <!--                            <span class="stat-number">3</span>-->
        <!--                            <span class="stat-label">MO≈ΩNOSTI</span>-->
        <!--                        </div>-->
        <!--                    </div>-->
        <!--                </div>-->
        <!--                <button class="start-quiz-btn" id="startQuizBtn">ZAƒå√çT KV√çZ</button>-->
        <!--            </div>-->
        <!--        </div>-->

        <!--        &lt;!&ndash; Slide 8: Kv√≠z &ndash;&gt;-->
        <!--        <div class="slide" data-slide="8">-->
        <!--            <div class="slide-content quiz-content">-->
        <!--                <div class="quiz-header">-->
        <!--                    <div class="quiz-progress">-->
        <!--                        <span class="progress-text">OT√ÅZKA <span id="questionNumber">1</span> Z 5</span>-->
        <!--                        <div class="progress-bar-quiz">-->
        <!--                            <div class="progress-fill-quiz" id="progressFillQuiz"></div>-->
        <!--                        </div>-->
        <!--                    </div>-->
        <!--                    <div class="quiz-score">SK√ìRE: <span id="quizScore">0</span>/5</div>-->
        <!--                </div>-->

        <!--                <div class="quiz-question">-->
        <!--                    <h2 class="question-text" id="questionText">Co bylo podle prezentace nejtƒõ≈æ≈°√≠ na ƒçten√≠ knihy?</h2>-->
        <!--                </div>-->

        <!--                <div class="quiz-answers" id="quizAnswers">-->
        <!--                    <button class="answer-btn" data-answer="A">A) Re√°lie doby a dialekty</button>-->
        <!--                    <button class="answer-btn" data-answer="B">B) Dlouh√© popisy</button>-->
        <!--                    <button class="answer-btn" data-answer="C">C) P≈ô√≠li≈° mnoho postav</button>-->
        <!--                </div>-->

        <!--                <div class="quiz-feedback" id="quizFeedback" style="display: none;">-->
        <!--                    <div class="feedback-text"></div>-->
        <!--                    <button class="next-question-btn" id="nextQuestionBtn">DAL≈†√ç OT√ÅZKA</button>-->
        <!--                </div>-->

        <!--                <div class="quiz-result" id="quizResult" style="display: none;">-->
        <!--                    <h2 class="result-title">V√ùSLEDEK KV√çZU</h2>-->
        <!--                    <div class="result-score" id="finalScore">0/5</div>-->
        <!--                    <div class="result-message" id="resultMessage">Skvƒõl√©!</div>-->
        <!--                    <div class="result-actions">-->
        <!--                        <button class="restart-quiz-btn" id="restartQuizBtn">ZKUSIT ZNOVU</button>-->
        <!--                        <button class="back-to-map-btn" id="backToMapBtn">ZPƒöT NA MAPU</button>-->
        <!--                    </div>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--        </div>-->

    </div>

    <!-- Slide indicators -->
    <div class="slide-indicators" id="slideIndicators">
        <span class="indicator active" data-slide="1"></span>
        <span class="indicator" data-slide="2"></span>
        <span class="indicator" data-slide="3"></span>
        <span class="indicator" data-slide="4"></span>
        <span class="indicator" data-slide="5"></span>
        <span class="indicator" data-slide="6"></span>
        <span class="indicator" data-slide="7"></span>
        <span class="indicator" data-slide="8"></span>
    </div>
</div>

<!-- Loading overlay markup -->
<div class="loading-overlay" id="loading" aria-hidden="true">
    <div class="stars" id="stars"></div>
    <div class="loading-container">
        <div class="loading-icon">
            <div class="pixel-building">
                <div class="building-base"></div>
                <div class="building-roof"></div>
                <div class="building-windows">
                    <div class="window"></div>
                    <div class="window"></div>
                    <div class="window"></div>
                    <div class="window"></div>
                </div>
            </div>
        </div>
        <div class="loading-label">P≈òESUN NA MAPU...</div>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
                <div class="progress-blocks">
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                    <div class="block"></div>
                </div>
            </div>
            <div class="progress-text" id="progressText">0%</div>
        </div>
        <div class="loading-phases" id="loadingPhases">
            <div class="phase active">¬ª Zav√≠r√°n√≠ kv√≠zu...</div>
            <div class="phase">¬ª Ukl√°d√°n√≠ bod≈Ø do pamƒõti...</div>
            <div class="phase">¬ª P≈ô√≠prava mapy Maycombu...</div>
            <div class="phase">¬ª Tvo≈ôen√≠ hvƒõzdn√© cesty...</div>
            <div class="phase">¬ª P≈ôist√°n√≠ na mapƒõ...</div>
        </div>
    </div>
</div>

<script>
    // Pixel PowerPoint Logic
    (function () {
        let currentSlide = 1;
        const totalSlides = 8;
        let quizStarted = false;
        let currentQuestion = 0;
        let quizScore = 0;
        let revealedBullets = new Set();

        // Loading overlay elements for transition back to map
        const overlay = document.getElementById('loading');
        const stars = document.getElementById('stars');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const loadingPhases = document.getElementById('loadingPhases');
        const LOAD_DELAY = 4000; // 4s p≈ôechod zpƒõt na mapu

        function buildStars() {
            if (!stars) return;
            stars.innerHTML = '';
            const w = window.innerWidth, h = window.innerHeight;
            const area = w * h;
            const count = Math.min(240, Math.max(40, Math.round(area / 12000)));
            for (let i = 0; i < count; i++) {
                const s = document.createElement('div');
                s.className = 'star';
                const x = Math.random() * w, y = Math.random() * h;
                const delay = Math.round(Math.random() * 900) + 'ms';
                s.style.left = x + 'px';
                s.style.top = y + 'px';
                s.style.animationDelay = delay;
                stars.appendChild(s);
            }
        }

        function animateLoading() {
            if (!loadingPhases) return;
            const phases = loadingPhases.querySelectorAll('.phase');
            let currentPhase = 0;
            let progress = 0;

            const interval = setInterval(() => {
                progress += 2;
                if (progressFill) progressFill.style.width = Math.min(progress, 100) + '%';
                if (progressText) progressText.textContent = Math.min(progress, 100) + '%';

                const phaseProgress = Math.floor(progress / 20);
                if (phaseProgress > currentPhase && phaseProgress < phases.length) {
                    phases[currentPhase].classList.remove('active');
                    phases[phaseProgress].classList.add('active');
                    currentPhase = phaseProgress;
                }

                if (progress >= 100) {
                    clearInterval(interval);
                    phases[currentPhase]?.classList.remove('active');
                    const completionPhase = document.createElement('div');
                    completionPhase.className = 'phase active completion';
                    completionPhase.textContent = '¬ª P≈ôipraveno!';
                    loadingPhases.appendChild(completionPhase);
                }
            }, LOAD_DELAY / 50); // 50 krok≈Ø p≈ôes celou dobu
        }

        window.addEventListener('resize', () => {
            if (overlay && overlay.classList.contains('show')) buildStars();
        });

        // Quiz questions data
        const quizQuestions = [
            {
                question: "Co bylo podle prezentace nejtƒõ≈æ≈°√≠ na ƒçten√≠ knihy?",
                answers: ["A) Re√°lie doby a dialekty", "B) Dlouh√© popisy", "C) P≈ô√≠li≈° mnoho postav"],
                correct: "A",
                feedback: "Spr√°vnƒõ! Re√°lie doby a dialekty byly uvedeny jako n√°roƒçn√©."
            },
            {
                question: "Jak√© hlavn√≠ t√©ma kniha podle prezentace obsahuje?",
                answers: ["A) L√°sku a romantiku", "B) Odvahu a mor√°ln√≠ integritu", "C) Dobrodru≈æstv√≠"],
                correct: "B",
                feedback: "Ano! Odvaha a mor√°ln√≠ integrita jsou √∫st≈ôedn√≠ t√©mata."
            },
            {
                question: "Kolik hvƒõzdiƒçek dostal p≈ô√≠bƒõh v hodnocen√≠?",
                answers: ["A) 3 hvƒõzdiƒçky", "B) 4 hvƒõzdiƒçky", "C) 5 hvƒõzdiƒçek"],
                correct: "C",
                feedback: "Spr√°vnƒõ! P≈ô√≠bƒõh dostal pln√Ω poƒçet 5 hvƒõzdiƒçek."
            },
            {
                question: "Co je podle prezentace symbolem v knize?",
                answers: ["A) Strom", "B) Pt√°ƒçek", "C) D≈Øm"],
                correct: "B",
                feedback: "P≈ôesnƒõ! Pt√°ƒçek je d≈Øle≈æit√Ωm symbolem knihy."
            },
            {
                question: "Jak√© bylo celkov√© hodnocen√≠ knihy?",
                answers: ["A) 8/10", "B) 9/10", "C) 10/10"],
                correct: "B",
                feedback: "Spr√°vnƒõ! Celkov√© hodnocen√≠ bylo 9/10."
            }
        ];

        // Initialize PowerPoint
        function init() {
            updateSlideDisplay();
            setupEventListeners();
        }

        // Event listeners
        function setupEventListeners() {
            document.getElementById('prevBtn').addEventListener('click', () => changeSlide(-1));
            document.getElementById('nextBtn').addEventListener('click', () => changeSlide(1));
            const startBtn = document.getElementById('startQuizBtn');
            startBtn && startBtn.addEventListener('click', startQuiz);
            const nextQ = document.getElementById('nextQuestionBtn');
            nextQ && nextQ.addEventListener('click', nextQuestion);
            const restartQ = document.getElementById('restartQuizBtn');
            restartQ && restartQ.addEventListener('click', restartQuiz);
            const backBtnInSlide = document.getElementById('backToMapBtn');
            backBtnInSlide && backBtnInSlide.addEventListener('click', backToMap);
            const backBtnTop = document.querySelector('.back-btn');
            backBtnTop && backBtnTop.addEventListener('click', (e) => {
                e.preventDefault();
                backToMap();
            });

            // Keyboard navigation (ignore inputs)
            window.addEventListener('keydown', (e) => {
                const tag = (e.target && e.target.tagName) ? e.target.tagName.toUpperCase() : '';
                if (['INPUT', 'TEXTAREA', 'SELECT', 'BUTTON'].includes(tag)) return;
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    changeSlide(-1);
                }
                if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    changeSlide(1);
                }
                if (e.key === 'Escape') {
                    e.preventDefault();
                    backToMap();
                } // ESC pro rychl√Ω n√°vrat
            });

            // Slide indicators
            document.querySelectorAll('.indicator').forEach(indicator => {
                indicator.addEventListener('click', (e) => {
                    const targetSlide = parseInt(e.target.dataset.slide);
                    goToSlide(targetSlide);
                });
            });

            // Quiz answers
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('answer-btn') && quizStarted) {
                    selectAnswer(e.target);
                }
            });
        }

        // Change slide
        function changeSlide(direction) {
            const newSlide = currentSlide + direction;
            if (newSlide >= 1 && newSlide <= totalSlides) {
                goToSlide(newSlide);
            }
        }

        // Go to specific slide
        function goToSlide(slideNumber) {
            currentSlide = slideNumber;
            updateSlideDisplay();
            // Delay reveal animations slightly for better effect
            setTimeout(() => {
                revealBulletPoints();
            }, 200);
        }

        // Update slide display
        function updateSlideDisplay() {
            // Hide all slides
            document.querySelectorAll('.slide').forEach(slide => {
                slide.classList.remove('active');
            });

            // Show current slide
            const currentSlideEl = document.querySelector(`.slide[data-slide="${currentSlide}"]`);
            if (currentSlideEl) {
                currentSlideEl.classList.add('active');
            }

            // Update navigation
            document.getElementById('currentSlide').textContent = currentSlide;
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;

            // Update indicators
            document.querySelectorAll('.indicator').forEach((indicator, index) => {
                indicator.classList.toggle('active', index + 1 === currentSlide);
            });
        }

        // Reveal bullet points with animation
        function revealBulletPoints() {
            const currentSlideEl = document.querySelector(`.slide[data-slide="${currentSlide}"]`);
            const bulletPoints = currentSlideEl.querySelectorAll('[data-reveal]');

            if (bulletPoints.length > 0) {
                bulletPoints.forEach((bullet, index) => {
                    setTimeout(() => {
                        bullet.classList.add('revealed');
                    }, index * 400); // Slower reveal for better effect
                });
            }

            // Special animations for recommendation grid
            const recItems = currentSlideEl.querySelectorAll('.rec-item[data-reveal]');
            if (recItems.length > 0) {
                recItems.forEach((item, index) => {
                    setTimeout(() => {
                        item.classList.add('revealed');
                    }, index * 500); // Slower reveal
                });
            }
        }

        // Quiz functions
        function startQuiz() {
            quizStarted = true;
            currentQuestion = 0;
            quizScore = 0;
            goToSlide(8);
            setTimeout(() => {
                showQuestion();
            }, 300);
        }

        function showQuestion() {
            const question = quizQuestions[currentQuestion];
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('quizScore').textContent = quizScore;

            // Update progress
            const progress = ((currentQuestion) / quizQuestions.length) * 100;
            document.getElementById('progressFillQuiz').style.width = progress + '%';

            // Show answers
            const answersContainer = document.getElementById('quizAnswers');
            answersContainer.innerHTML = '';
            question.answers.forEach(answer => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.dataset.answer = answer.charAt(0);
                btn.textContent = answer;
                answersContainer.appendChild(btn);
            });

            // Hide feedback and result
            document.getElementById('quizFeedback').style.display = 'none';
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('quizAnswers').style.display = 'block';
        }

        function selectAnswer(answerBtn) {
            const selectedAnswer = answerBtn.dataset.answer;
            const correct = quizQuestions[currentQuestion].correct;

            // Disable all answers
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('correct', 'incorrect');
            });

            // Show correct/incorrect
            if (selectedAnswer === correct) {
                answerBtn.classList.add('correct');
                quizScore++;
            } else {
                answerBtn.classList.add('incorrect');
                document.querySelector(`[data-answer="${correct}"]`).classList.add('correct');
            }

            // Update score
            document.getElementById('quizScore').textContent = quizScore;

            // Show feedback
            setTimeout(() => {
                const feedback = document.getElementById('quizFeedback');
                feedback.querySelector('.feedback-text').textContent = quizQuestions[currentQuestion].feedback;
                feedback.style.display = 'block';
                document.getElementById('quizAnswers').style.display = 'none';
            }, 2000); // Longer delay to see the result
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            const resultScore = document.getElementById('finalScore');
            const resultMessage = document.getElementById('resultMessage');

            resultScore.textContent = `${quizScore}/${quizQuestions.length}`;

            let message = '';
            if (quizScore === quizQuestions.length) {
                message = 'Perfektn√≠! V≈°echno sis zapamatoval! üèÜ';
            } else if (quizScore >= quizQuestions.length * 0.8) {
                message = 'V√Ωbornƒõ! T√©mƒõ≈ô v≈°echno spr√°vnƒõ! ‚≠ê';
            } else if (quizScore >= quizQuestions.length * 0.6) {
                message = 'Dob≈ôe! M≈Ø≈æe≈° si znovu proj√≠t prezentaci. üëç';
            } else {
                message = 'Zkus si znovu proj√≠t prezentaci a zkus to znovu! üìö';
            }

            resultMessage.textContent = message;

            // Update progress to 100%
            document.getElementById('progressFillQuiz').style.width = '100%';

            // Show result
            document.getElementById('quizFeedback').style.display = 'none';
            document.getElementById('quizResult').style.display = 'block';
        }

        function restartQuiz() {
            currentQuestion = 0;
            quizScore = 0;
            goToSlide(7);
            quizStarted = false;
        }

        function backToMap() {
            // Zobraz loading a p≈ôesmƒõruj na mapu po kr√°tk√©m p≈ôechodu
            if (overlay) {
                buildStars();
                overlay.classList.add('show');
                animateLoading();
                setTimeout(() => {
                    window.location.href = 'prezentacer_main.html';
                }, LOAD_DELAY);
            } else {
                window.location.href = 'prezentacer_main.html';
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    })();
</script>

<style>
    /* PowerPoint specific styles will be added to main CSS */
</style>

</body>
</html>