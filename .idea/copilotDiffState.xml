<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/anglictina/app/templates/news/news.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/anglictina/app/templates/news/news.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;cs&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Novinky | Knowix&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;/static/style.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot;&gt;&#10;        &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;{{ url_for('static', filename='favicon.ico') }}&quot;&gt;&#10;&#10;    &lt;!-- Preconnect zrychlí DNS a spojení --&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#10;&#10;    &lt;!-- Font načti až po načtení stránky --&gt;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600&amp;display=swap&quot; rel=&quot;stylesheet&quot;&#10;          media=&quot;print&quot; onload=&quot;this.media='all'&quot;&gt;&#10;    &lt;noscript&gt;&#10;        &lt;link href=&quot;https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;/noscript&gt;&#10;&#10;    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;{{ url_for('static', filename='favicon.ico') }}&quot;&gt;&#10;&#10;    &lt;!-- Google tag (gtag.js) --&gt;&#10;    &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=G-W1EN990JKP&quot;&gt;&lt;/script&gt;&#10;&lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=G-W1EN990JKP&quot;&gt;&lt;/script&gt;&#10;&lt;script&gt;&#10;  window.dataLayer = window.dataLayer || [];&#10;  function gtag(){dataLayer.push(arguments);}&#10;  gtag('js', new Date());&#10;&#10;  gtag('config', 'G-W1EN990JKP');&#10;&lt;/script&gt;&#10;    &lt;style&gt;&#10;&#10;        body.dark-mode {&#10;            background: #181c23;&#10;        }&#10;        .news-container {&#10;            max-width: 800px;&#10;            margin: 0 auto;&#10;            padding: 20px;&#10;        }&#10;        .news-h1 {&#10;            text-align: center;&#10;            margin-top: 40px;&#10;            font-size: 2.5em;&#10;            color: #222;&#10;        }&#10;        body.dark-mode .news-h1 {&#10;            color: #b2ff59;&#10;        }&#10;        .news-form {&#10;            background: #fff;&#10;            padding: 20px;&#10;            border-radius: 10px;&#10;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#10;            margin-bottom: 30px;&#10;        }&#10;        body.dark-mode .news-form {&#10;            background: #232b36;&#10;            box-shadow: 0 2px 8px rgba(0,0,0,0.25);&#10;        }&#10;        .news-item {&#10;            background: #fff;&#10;            padding: 20px;&#10;            margin-bottom: 20px;&#10;            border-radius: 10px;&#10;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#10;        }&#10;        body.dark-mode .news-item {&#10;            background: #232b36;&#10;            color: #e0e0e0;&#10;            box-shadow: 0 2px 8px rgba(0,0,0,0.25);&#10;        }&#10;        .news-title {&#10;            font-size: 1.5em;&#10;            margin-bottom: 10px;&#10;            color: #333;&#10;        }&#10;        body.dark-mode .news-title {&#10;            color: #b2ff59;&#10;        }&#10;        .news-content {&#10;            white-space: pre-wrap;&#10;            line-height: 1.6;&#10;        }&#10;        .news-meta {&#10;            margin-top: 15px;&#10;            font-size: 0.9em;&#10;            color: #666;&#10;        }&#10;        body.dark-mode .news-meta {&#10;            color: #bdbdbd;&#10;        }&#10;        #newsTitle, #newsContent {&#10;            width: 100%;&#10;            padding: 10px;&#10;            margin-bottom: 10px;&#10;            border: 1px solid #ddd;&#10;            border-radius: 5px;&#10;        }&#10;        body.dark-mode #newsTitle, body.dark-mode #newsContent {&#10;            background: #000000;&#10;            color: #fff;&#10;            border: 1px solid #38405a;&#10;        }&#10;        #newsContent {&#10;            height: 150px;&#10;            resize: vertical;&#10;        }&#10;        .submit-btn {&#10;            background: #1976d2;&#10;            color: #fff;&#10;            border: none;&#10;            border-radius: 7px;&#10;            padding: 0.7em 1.4em;&#10;            font-size: 1.08em;&#10;            font-weight: 600;&#10;            cursor: pointer;&#10;            transition: background 0.2s;&#10;        }&#10;        body.dark-mode .submit-btn {&#10;            background: #000000;&#10;            color: #b2ff59;&#10;        }&#10;        .submit-btn:hover {&#10;            background: #1256a0;&#10;        }&#10;        body.dark-mode .submit-btn:hover {&#10;            background: #232b36;&#10;        }&#10;        .news-actions button {&#10;            margin-right: 0.5em;&#10;            padding: 0.4em 1em;&#10;            border-radius: 6px;&#10;            border: none;&#10;            background: #f6fafd;&#10;            color: #1976d2;&#10;            font-weight: 600;&#10;            cursor: pointer;&#10;            transition: background 0.2s;&#10;        }&#10;        body.dark-mode .news-actions button {&#10;            background: #232b36;&#10;            color: #b2ff59;&#10;        }&#10;        .news-actions button:hover {&#10;            background: #e3eaf2;&#10;        }&#10;        body.dark-mode .news-actions button:hover {&#10;            background: #181c23;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body class=&quot;{{ 'dark-mode' if session.get('theme') == 'dark' else '' }}&quot;&gt;&#10;&lt;header&gt;&#10;    &lt;div class=&quot;logo-streak-wrapper&quot;&gt;&#10;        &lt;div class=&quot;logo&quot;&gt;&#10;            &lt;a href=&quot;{{ url_for('main.index') }}&quot;&gt;&#10;                &lt;img src=&quot;{{ url_for('static', filename='pic/logo.webp') }}&quot; alt=&quot;Knowix Logo&quot;&gt;&#10;            &lt;/a&gt;&#10;        &lt;/div&gt;&#10;        &lt;span class=&quot;streak-badge&quot;&gt;&#10;            &lt;img src=&quot;/static/fire.svg&quot; alt=&quot;Streak&quot;&gt;&#10;            {{ user_streak }}&#10;        &lt;/span&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;nav-profile-wrapper&quot;&gt;&#10;        &lt;ul class=&quot;nav-right&quot;&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/anglictina&quot; title=&quot;Angličtina&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/eng.png') }}&quot; alt=&quot;Angličtina&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/feedback&quot; title=&quot;Feedback&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/chat.png') }}&quot; alt=&quot;Feedback&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/news&quot; title=&quot;Novinky&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/bell.png') }}&quot; alt=&quot;Novinky&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/obchod&quot; title=&quot;Obchod&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/shop.png') }}&quot; alt=&quot;Obchod&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/zpravy&quot; title=&quot;Zprávy&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/mail.png') }}&quot; alt=&quot;Zprávy&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;button id=&quot;theme-toggle&quot; title=&quot;Přepnout téma&quot; style=&quot;background:none;border:none;cursor:pointer;padding:0;&quot;&gt;&#10;                    &#10;                &lt;/button&gt;&#10;            &lt;/li&gt;&#10;        &lt;/ul&gt;&#10;        {% if session['user_name'] %}&#10;        &lt;div class=&quot;user-profile&quot;&gt;&#10;            &lt;div class=&quot;profile-container&quot;&gt;&#10;                {% if session.get('profile_pic') %}&#10;                &lt;img src=&quot;{{ url_for('static', filename='profile_pics/' + session['profile_pic']) }}&quot;&#10;                     alt=&quot;Profilová fotka&quot; width=&quot;64&quot; class=&quot;profile-pic&quot;&gt;&#10;                {% else %}&#10;                &lt;img src=&quot;{{ url_for('static', filename='pic/default.webp') }}&quot; alt=&quot;Defaultní profilovka&quot;&#10;                     class=&quot;profile-pic&quot; id=&quot;profileMenuTrigger&quot;&gt;&#10;                {% endif %}&#10;                &lt;div class=&quot;profile-menu&quot; id=&quot;profileMenu&quot;&gt;&#10;                    &lt;a href=&quot;{{ url_for('auth.settings') }}&quot;&gt;⚙️ Nastavení&lt;/a&gt;&#10;                    &lt;a href=&quot;{{ url_for('auth.logout') }}&quot;&gt; Odhlásit se&lt;/a&gt;&#10;                &lt;/div&gt;&#10;                &lt;span class=&quot;greeting&quot; style=&quot;margin-left: 10px;&quot;&gt;Ahoj {{ session['user_name'].split()[0] }}!&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            {% if user_xp is defined and user_level is defined and user_level_name is defined and user_progress_percent is defined %}&#10;            &lt;div class=&quot;xp-header-bar&quot;&gt;&#10;                &lt;div class=&quot;xp-header-bar-labels&quot;&gt;&#10;                    &lt;span class=&quot;xp-level-badge&quot;&gt;Level {{ user_level }} – {{ user_level_name }}&lt;/span&gt;&#10;                    &lt;span class=&quot;xp-value&quot;&gt;{{ user_xp_in_level }}/50 XP&lt;/span&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;xp-header-bar-progress-bg&quot;&gt;&#10;                    &lt;div class=&quot;xp-header-bar-progress&quot; style=&quot;width: {{ user_progress_percent }}%&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {% endif %}&#10;        &lt;/div&gt;&#10;        {% else %}&#10;&lt;div class=&quot;auth-links&quot;&gt;&#10;    &lt;a href=&quot;{{ url_for('auth.login') }}&quot; class=&quot;auth-btn login-btn&quot;&gt; Přihlásit se&lt;/a&gt;&#10;    &lt;a href=&quot;{{ url_for('auth.register') }}&quot; class=&quot;auth-btn register-btn&quot;&gt; Registrovat se&lt;/a&gt;&#10;&lt;/div&gt;&#10;        {% endif %}&#10;    &lt;/div&gt;&#10;&lt;/header&gt;&#10;&#10;    &lt;h1 class=&quot;news-h1&quot;&gt; Novinky&lt;/h1&gt;&#10;&#10;    &lt;main class=&quot;news-container&quot;&gt;&#10;        {% if is_owner %}&#10;        &lt;div class=&quot;news-form&quot;&gt;&#10;            &lt;h2&gt;Přidat novinku&lt;/h2&gt;&#10;            &lt;form id=&quot;newsForm&quot;&gt;&#10;                &lt;input type=&quot;text&quot; id=&quot;newsTitle&quot; placeholder=&quot;Nadpis novinky&quot; required&gt;&#10;                &lt;textarea id=&quot;newsContent&quot; placeholder=&quot;Obsah novinky...&quot; required&gt;&lt;/textarea&gt;&#10;                &lt;button type=&quot;submit&quot; class=&quot;submit-btn&quot;&gt;Publikovat&lt;/button&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;        {% endif %}&#10;&#10;        &lt;div id=&quot;newsList&quot;&gt;&#10;            &lt;!-- Zde se načtou existující novinky --&gt;&#10;        &lt;/div&gt;&#10;    &lt;/main&gt;&#10;&#10;    &lt;script&gt;&#10;&#10;        // theme-toggle.js&#10;document.getElementById('theme-toggle').addEventListener('click', () =&gt; {&#10;    fetch('/set_theme', {&#10;        method: 'POST',&#10;        headers: {'Content-Type': 'application/json'},&#10;        body: JSON.stringify({&#10;            theme: document.body.classList.contains('dark-mode') ? 'light' : 'dark'&#10;        })&#10;    }).then(() =&gt; {&#10;        document.body.classList.toggle('dark-mode');&#10;        session.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');&#10;    });&#10;});&#10;        // Kontrola oprávnění&#10;        let isOwner = {{ 'true' if is_owner else 'false' }};&#10;&#10;        // Načtení novinek&#10;        async function loadNews() {&#10;            try {&#10;                const res = await fetch('/get_news');&#10;                const data = await res.json();&#10;                const container = document.getElementById('newsList');&#10;                container.innerHTML = '';&#10;&#10;                data.news.forEach(news =&gt; {&#10;                    const newsItem = document.createElement('div');&#10;                    newsItem.className = 'news-item';&#10;                    newsItem.dataset.id = news.id;&#10;                    newsItem.innerHTML = `&#10;                        &lt;h3 class=&quot;news-title&quot;&gt;${news.title}&lt;/h3&gt;&#10;                        &lt;div class=&quot;news-content&quot;&gt;${news.content}&lt;/div&gt;&#10;                        &lt;div class=&quot;news-meta&quot;&gt;&#10;                            Publikováno ${news.created_at}&#10;                            ${news.updated_at ? `(Aktualizováno ${news.updated_at})` : ''}&#10;                            ${isOwner ? `&#10;                            &lt;div class=&quot;news-actions&quot;&gt;&#10;                                &lt;button class=&quot;edit-news&quot; data-id=&quot;${news.id}&quot;&gt;Upravit&lt;/button&gt;&#10;                                &lt;button class=&quot;delete-news&quot; data-id=&quot;${news.id}&quot;&gt;Smazat&lt;/button&gt;&#10;                            &lt;/div&gt;` : ''}&#10;                        &lt;/div&gt;&#10;                    `;&#10;                    container.appendChild(newsItem);&#10;                });&#10;            } catch (error) {&#10;                console.error(&quot;Chyba při načítání novinek:&quot;, error);&#10;            }&#10;        }&#10;&#10;        // Odeslání nové novinky&#10;        document.getElementById('newsForm')?.addEventListener('submit', async (e) =&gt; {&#10;            e.preventDefault();&#10;            const title = document.getElementById('newsTitle').value;&#10;            const content = document.getElementById('newsContent').value;&#10;&#10;            try {&#10;                const res = await fetch('/news', {&#10;                    method: 'POST',&#10;                    headers: {'Content-Type': 'application/json'},&#10;                    body: JSON.stringify({title, content})&#10;                });&#10;&#10;                const data = await res.json();&#10;                if (data.status === 'success') {&#10;                    loadNews();&#10;                    e.target.reset();&#10;                }&#10;            } catch (error) {&#10;                console.error(&quot;Chyba při odesílání:&quot;, error);&#10;            }&#10;        });&#10;&#10;        // Načtení při startu&#10;        window.addEventListener('DOMContentLoaded', loadNews);&#10;    &lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;cs&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Novinky | Knowix&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;/static/style.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot;&gt;&#10;        &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;{{ url_for('static', filename='favicon.ico') }}&quot;&gt;&#10;&#10;    &lt;!-- Preconnect zrychlí DNS a spojení --&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#10;&#10;    &lt;!-- Font načti až po načtení stránky --&gt;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600&amp;display=swap&quot; rel=&quot;stylesheet&quot;&#10;          media=&quot;print&quot; onload=&quot;this.media='all'&quot;&gt;&#10;    &lt;noscript&gt;&#10;        &lt;link href=&quot;https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;/noscript&gt;&#10;&#10;    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;{{ url_for('static', filename='favicon.ico') }}&quot;&gt;&#10;&#10;    &lt;!-- Google tag (gtag.js) --&gt;&#10;    &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=G-W1EN990JKP&quot;&gt;&lt;/script&gt;&#10;&lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=G-W1EN990JKP&quot;&gt;&lt;/script&gt;&#10;&lt;script&gt;&#10;  window.dataLayer = window.dataLayer || [];&#10;  function gtag(){dataLayer.push(arguments);}&#10;  gtag('js', new Date());&#10;&#10;  gtag('config', 'G-W1EN990JKP');&#10;&lt;/script&gt;&#10;    &lt;style&gt;&#10;&#10;        body.dark-mode {&#10;            background: #181c23;&#10;        }&#10;        .news-container {&#10;            max-width: 800px;&#10;            margin: 0 auto;&#10;            padding: 20px;&#10;        }&#10;        .news-h1 {&#10;            text-align: center;&#10;            margin-top: 40px;&#10;            font-size: 2.5em;&#10;            color: #222;&#10;        }&#10;        body.dark-mode .news-h1 {&#10;            color: #b2ff59;&#10;        }&#10;        .news-form {&#10;            background: #fff;&#10;            padding: 20px;&#10;            border-radius: 10px;&#10;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#10;            margin-bottom: 30px;&#10;        }&#10;        body.dark-mode .news-form {&#10;            background: #232b36;&#10;            box-shadow: 0 2px 8px rgba(0,0,0,0.25);&#10;        }&#10;        .news-item {&#10;            background: #fff;&#10;            padding: 20px;&#10;            margin-bottom: 20px;&#10;            border-radius: 10px;&#10;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#10;        }&#10;        body.dark-mode .news-item {&#10;            background: #232b36;&#10;            color: #e0e0e0;&#10;            box-shadow: 0 2px 8px rgba(0,0,0,0.25);&#10;        }&#10;        .news-title {&#10;            font-size: 1.5em;&#10;            margin-bottom: 10px;&#10;            color: #333;&#10;        }&#10;        body.dark-mode .news-title {&#10;            color: #b2ff59;&#10;        }&#10;        .news-content {&#10;            white-space: pre-wrap;&#10;            line-height: 1.6;&#10;        }&#10;        .news-meta {&#10;            margin-top: 15px;&#10;            font-size: 0.9em;&#10;            color: #666;&#10;        }&#10;        body.dark-mode .news-meta {&#10;            color: #bdbdbd;&#10;        }&#10;        #newsTitle, #newsContent {&#10;            width: 100%;&#10;            padding: 10px;&#10;            margin-bottom: 10px;&#10;            border: 1px solid #ddd;&#10;            border-radius: 5px;&#10;        }&#10;        body.dark-mode #newsTitle, body.dark-mode #newsContent {&#10;            background: #000000;&#10;            color: #fff;&#10;            border: 1px solid #38405a;&#10;        }&#10;        #newsContent {&#10;            height: 150px;&#10;            resize: vertical;&#10;        }&#10;        .submit-btn {&#10;            background: #1976d2;&#10;            color: #fff;&#10;            border: none;&#10;            border-radius: 7px;&#10;            padding: 0.7em 1.4em;&#10;            font-size: 1.08em;&#10;            font-weight: 600;&#10;            cursor: pointer;&#10;            transition: background 0.2s;&#10;        }&#10;        body.dark-mode .submit-btn {&#10;            background: #000000;&#10;            color: #b2ff59;&#10;        }&#10;        .submit-btn:hover {&#10;            background: #1256a0;&#10;        }&#10;        body.dark-mode .submit-btn:hover {&#10;            background: #232b36;&#10;        }&#10;        .news-actions button {&#10;            margin-right: 0.5em;&#10;            padding: 0.4em 1em;&#10;            border-radius: 6px;&#10;            border: none;&#10;            background: #f6fafd;&#10;            color: #1976d2;&#10;            font-weight: 600;&#10;            cursor: pointer;&#10;            transition: background 0.2s;&#10;        }&#10;        body.dark-mode .news-actions button {&#10;            background: #232b36;&#10;            color: #b2ff59;&#10;        }&#10;        .news-actions button:hover {&#10;            background: #e3eaf2;&#10;        }&#10;        body.dark-mode .news-actions button:hover {&#10;            background: #181c23;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body class=&quot;{{ 'dark-mode' if session.get('theme') == 'dark' else '' }}&quot;&gt;&#10;&lt;header&gt;&#10;    &lt;div class=&quot;logo-streak-wrapper&quot;&gt;&#10;        &lt;div class=&quot;logo&quot;&gt;&#10;            &lt;a href=&quot;{{ url_for('main.index') }}&quot;&gt;&#10;                &lt;img src=&quot;{{ url_for('static', filename='pic/logo.webp') }}&quot; alt=&quot;Knowix Logo&quot;&gt;&#10;            &lt;/a&gt;&#10;        &lt;/div&gt;&#10;        &lt;span class=&quot;streak-badge&quot;&gt;&#10;            &lt;img src=&quot;/static/fire.svg&quot; alt=&quot;Streak&quot;&gt;&#10;            {{ user_streak }}&#10;        &lt;/span&gt;&#10;    &lt;/div&gt;&#10;    &lt;div class=&quot;nav-profile-wrapper&quot;&gt;&#10;        &lt;ul class=&quot;nav-right&quot;&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/anglictina&quot; title=&quot;Angličtina&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/eng.png') }}&quot; alt=&quot;Angličtina&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/feedback&quot; title=&quot;Feedback&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/chat.png') }}&quot; alt=&quot;Feedback&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/news&quot; title=&quot;Novinky&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/bell.png') }}&quot; alt=&quot;Novinky&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/obchod&quot; title=&quot;Obchod&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/shop.png') }}&quot; alt=&quot;Obchod&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;a href=&quot;/zpravy&quot; title=&quot;Zprávy&quot;&gt;&#10;                    &lt;img src=&quot;{{ url_for('static', filename='icons/mail.png') }}&quot; alt=&quot;Zprávy&quot; class=&quot;nav-icon&quot;&gt;&#10;                &lt;/a&gt;&#10;            &lt;/li&gt;&#10;            &lt;li&gt;&#10;                &lt;button id=&quot;theme-toggle&quot; title=&quot;Přepnout téma&quot; style=&quot;background:none;border:none;cursor:pointer;padding:0;&quot;&gt;&#10;                    &#10;                &lt;/button&gt;&#10;            &lt;/li&gt;&#10;        &lt;/ul&gt;&#10;        {% if session['user_name'] %}&#10;        &lt;div class=&quot;user-profile&quot;&gt;&#10;            &lt;div class=&quot;profile-container&quot;&gt;&#10;                {% if session.get('profile_pic') %}&#10;                &lt;img src=&quot;{{ url_for('static', filename='profile_pics/' + session['profile_pic']) }}&quot;&#10;                     alt=&quot;Profilová fotka&quot; width=&quot;64&quot; class=&quot;profile-pic&quot;&gt;&#10;                {% else %}&#10;                &lt;img src=&quot;{{ url_for('static', filename='pic/default.webp') }}&quot; alt=&quot;Defaultní profilovka&quot;&#10;                     class=&quot;profile-pic&quot; id=&quot;profileMenuTrigger&quot;&gt;&#10;                {% endif %}&#10;                &lt;div class=&quot;profile-menu&quot; id=&quot;profileMenu&quot;&gt;&#10;                    &lt;a href=&quot;{{ url_for('auth.settings') }}&quot;&gt;⚙️ Nastavení&lt;/a&gt;&#10;                    &lt;a href=&quot;{{ url_for('auth.logout') }}&quot;&gt; Odhlásit se&lt;/a&gt;&#10;                &lt;/div&gt;&#10;                &lt;span class=&quot;greeting&quot; style=&quot;margin-left: 10px;&quot;&gt;Ahoj {{ session['user_name'].split()[0] }}!&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            {% if user_xp is defined and user_level is defined and user_level_name is defined and user_progress_percent is defined %}&#10;            &lt;div class=&quot;xp-header-bar&quot;&gt;&#10;                &lt;div class=&quot;xp-header-bar-labels&quot;&gt;&#10;                    &lt;span class=&quot;xp-level-badge&quot;&gt;Level {{ user_level }} – {{ user_level_name }}&lt;/span&gt;&#10;                    &lt;span class=&quot;xp-value&quot;&gt;{{ user_xp_in_level }}/50 XP&lt;/span&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;xp-header-bar-progress-bg&quot;&gt;&#10;                    &lt;div class=&quot;xp-header-bar-progress&quot; style=&quot;width: {{ user_progress_percent }}%&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            {% endif %}&#10;        &lt;/div&gt;&#10;        {% else %}&#10;&lt;div class=&quot;auth-links&quot;&gt;&#10;    &lt;a href=&quot;{{ url_for('auth.login') }}&quot; class=&quot;auth-btn login-btn&quot;&gt; Přihlásit se&lt;/a&gt;&#10;    &lt;a href=&quot;{{ url_for('auth.register') }}&quot; class=&quot;auth-btn register-btn&quot;&gt; Registrovat se&lt;/a&gt;&#10;&lt;/div&gt;&#10;        {% endif %}&#10;    &lt;/div&gt;&#10;&lt;/header&gt;&#10;&#10;    &lt;h1 class=&quot;news-h1&quot;&gt; Novinky&lt;/h1&gt;&#10;&#10;    &lt;main class=&quot;news-container&quot;&gt;&#10;        {% if is_owner %}&#10;        &lt;div class=&quot;news-form&quot;&gt;&#10;            &lt;h2&gt;Přidat novinku&lt;/h2&gt;&#10;            &lt;form id=&quot;newsForm&quot;&gt;&#10;                &lt;input type=&quot;text&quot; id=&quot;newsTitle&quot; placeholder=&quot;Nadpis novinky&quot; required&gt;&#10;                &lt;textarea id=&quot;newsContent&quot; placeholder=&quot;Obsah novinky...&quot; required&gt;&lt;/textarea&gt;&#10;                &lt;button type=&quot;submit&quot; class=&quot;submit-btn&quot;&gt;Publikovat&lt;/button&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;        {% endif %}&#10;&#10;        &lt;div id=&quot;newsList&quot;&gt;&#10;            &lt;!-- Zde se načtou existující novinky --&gt;&#10;        &lt;/div&gt;&#10;    &lt;/main&gt;&#10;&#10;    &lt;script&gt;&#10;&#10;        // theme-toggle.js&#10;document.getElementById('theme-toggle').addEventListener('click', () =&gt; {&#10;    fetch('/set_theme', {&#10;        method: 'POST',&#10;        headers: {'Content-Type': 'application/json'},&#10;        body: JSON.stringify({&#10;            theme: document.body.classList.contains('dark-mode') ? 'light' : 'dark'&#10;        })&#10;    }).then(() =&gt; {&#10;        document.body.classList.toggle('dark-mode');&#10;        session.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');&#10;    });&#10;});&#10;        // Kontrola oprávnění&#10;        let isOwner = {{ 'true' if is_owner else 'false' }};&#10;&#10;        // Načtení novinek&#10;        async function loadNews() {&#10;            try {&#10;                const res = await fetch('/get_news');&#10;                const data = await res.json();&#10;                const container = document.getElementById('newsList');&#10;                container.innerHTML = '';&#10;&#10;                data.news.forEach(news =&gt; {&#10;                    const newsItem = document.createElement('div');&#10;                    newsItem.className = 'news-item';&#10;                    newsItem.dataset.id = news.id;&#10;                    newsItem.innerHTML = `&#10;                        &lt;h3 class=&quot;news-title&quot;&gt;${news.title}&lt;/h3&gt;&#10;                        &lt;div class=&quot;news-content&quot;&gt;${news.content}&lt;/div&gt;&#10;                        &lt;div class=&quot;news-meta&quot;&gt;&#10;                            Publikováno ${news.created_at}&#10;                            ${news.updated_at ? `(Aktualizováno ${news.updated_at})` : ''}&#10;                            ${isOwner ? `&#10;                            &lt;div class=&quot;news-actions&quot;&gt;&#10;                                &lt;button class=&quot;edit-news&quot; data-id=&quot;${news.id}&quot;&gt;Upravit&lt;/button&gt;&#10;                                &lt;button class=&quot;delete-news&quot; data-id=&quot;${news.id}&quot;&gt;Smazat&lt;/button&gt;&#10;                            &lt;/div&gt;` : ''}&#10;                        &lt;/div&gt;&#10;                    `;&#10;                    container.appendChild(newsItem);&#10;                });&#10;            } catch (error) {&#10;                console.error(&quot;Chyba při načítání novinek:&quot;, error);&#10;            }&#10;        }&#10;&#10;        // Odeslání nové novinky&#10;        document.getElementById('newsForm')?.addEventListener('submit', async (e) =&gt; {&#10;            e.preventDefault();&#10;            const title = document.getElementById('newsTitle').value;&#10;            const content = document.getElementById('newsContent').value;&#10;&#10;            try {&#10;                const res = await fetch('/add_news', {&#10;                    method: 'POST',&#10;                    headers: {'Content-Type': 'application/json'},&#10;                    body: JSON.stringify({title, content})&#10;                });&#10;&#10;                const data = await res.json();&#10;                if (data.status === 'success') {&#10;                    loadNews();&#10;                    e.target.reset();&#10;                    alert('Novinka byla úspěšně publikována!');&#10;                } else {&#10;                    alert('Chyba: ' + data.message);&#10;                }&#10;            } catch (error) {&#10;                console.error(&quot;Chyba při odesílání:&quot;, error);&#10;                alert('Nastala chyba při odesílání novinky.');&#10;            }&#10;        });&#10;&#10;        // Načtení při startu&#10;        window.addEventListener('DOMContentLoaded', loadNews);&#10;    &lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/anglictina/app/templates/student_stats_chart.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/anglictina/app/templates/student_stats_chart.html" />
              <option name="updatedContent" value="{% extends 'base.html' %}&#10;{% block content %}&#10;&lt;div class=&quot;container&quot;&gt;&#10;    &lt;h2&gt;Statistiky studenta: {{ student.first_name }} {{ student.last_name }}&lt;/h2&gt;&#10;    &lt;div class=&quot;profile&quot;&gt;&#10;        &lt;img src=&quot;{{ url_for('static', filename='profile_pics/' + (student.profile_pic or 'default.jpg')) }}&quot; width=&quot;80&quot; height=&quot;80&quot; style=&quot;border-radius:50%&quot;&gt;&#10;        &lt;p&gt;Email: {{ student.email }}&lt;/p&gt;&#10;        &lt;p&gt;Úroveň: {{ student.english_level }}&lt;/p&gt;&#10;        &lt;p&gt;XP: {{ student.xp }}&lt;/p&gt;&#10;        &lt;p&gt;Level: {{ student.level }}&lt;/p&gt;&#10;        &lt;p&gt;Streak: {{ student.streak }}&lt;/p&gt;&#10;    &lt;/div&gt;&#10;    &lt;hr&gt;&#10;    &lt;h3&gt;Přehled statistik&lt;/h3&gt;&#10;    &lt;canvas id=&quot;statsChart&quot; width=&quot;400&quot; height=&quot;200&quot;&gt;&lt;/canvas&gt;&#10;&lt;/div&gt;&#10;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;&#10;&lt;script&gt;&#10;    // Připrav data z user_stats&#10;    const stats = {{ stats|tojson }};&#10;    // Předpokládáme, že user_stats má sloupce: id, user_id, stat_name, stat_value&#10;    const labels = stats.map(s =&gt; s.stat_name);&#10;    const values = stats.map(s =&gt; s.stat_value);&#10;    const ctx = document.getElementById('statsChart').getContext('2d');&#10;    new Chart(ctx, {&#10;        type: 'bar',&#10;        data: {&#10;            labels: labels,&#10;            datasets: [{&#10;                label: 'Hodnota',&#10;                data: values,&#10;                backgroundColor: 'rgba(54, 162, 235, 0.5)',&#10;                borderColor: 'rgba(54, 162, 235, 1)',&#10;                borderWidth: 1&#10;            }]&#10;        },&#10;        options: {&#10;            responsive: true,&#10;            scales: {&#10;                y: {&#10;                    beginAtZero: true&#10;                }&#10;            }&#10;        }&#10;    });&#10;&lt;/script&gt;&#10;{% endblock %}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>